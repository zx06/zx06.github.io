---
title: redis 配置
sidebar_label: redis
---
# redis 配置项
## 缓存配置
### maxmemory
#### 配置项说明
设置了maxmemory的选项，redis内存使用达到上限。可以通过设置LRU算法来删除部分key，释放空间。默认是按照过期时间的,如果set时候没有加上过期时间就会导致数据写满maxmemory。

#### 配置方法
`CONFIG SET maxmemory 2048mb`
### maxmemory-policy
#### 配置项说明
- noeviction: 不进行置换，表示即使内存达到上限也不进行置换，所有能引起内存增加的命令都会返回error
- allkeys-lru: 优先删除掉最近最不经常使用的key，用以保存新数据
- volatile-lru: 只从设置失效（expire set）的key中选择最近最不经常使用的key进行删除，用以保存新数据
- allkeys-random: 随机从all-keys中选择一些key进行删除，用以保存新数据
- volatile-random: 只从设置失效（expire set）的key中，选择一些key进行删除，用以保存新数据
- volatile-ttl: 只从设置失效（expire set）的key中，选出存活时间（TTL）最短的key进行删除，用以保存新数据
#### 配置方法
`CONFIG SET maxmemory-policy allkeys-lru`